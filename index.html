<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GitHub自动化字符串更新工具</title>
  <!-- 预连接关键外部域名 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>

  <!-- 预加载关键CSS资源 -->
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" as="style"
    onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  </noscript>
  <!-- 使用压缩后的CSS文件，提升加载性能 -->
  <link rel="preload" href="utils/styles.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link href="utils/styles.min.css" rel="stylesheet">
  </noscript>
  <!-- 回退到原始CSS文件，确保兼容性 -->
  <link href="utils/styles.css" rel="stylesheet" media="print" onload="this.media='all'">
  <meta name="version" content="null">
</head>

<body class="font-inter bg-gray-50 min-h-screen flex flex-col">
  <!-- 顶部导航栏 - 简化版 -->
  <header class="bg-dark text-white py-3 px-4">
    <div class="container mx-auto flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <div class="w-8 h-8 bg-primary rounded-md flex items-center justify-center">
          <i class="fa fa-language text-lg"></i>
        </div>
        <h1 class="text-xl font-bold">GitHub翻译助手</h1>
      </div>
      <div class="flex space-x-2">
        <button id="helpBtn" type="button"
          class="px-3 py-1.5 rounded-md bg-gray-700 hover:bg-gray-600 transition-colors text-sm flex items-center">
          <i class="fa fa-question-circle mr-1.5"></i>帮助
        </button>
      </div>
    </div>
  </header>

  <!-- 主要内容区 -->
  <main class="flex-grow container mx-auto py-8 px-4">
    <!-- 状态卡片 -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
      <div class="stats-card">
        <div class="stats-card-header">
          <div>
            <p class="stats-card-title">已提取字符串</p>
            <p id="extractedCount" class="stats-card-value">0</p>
          </div>
          <div class="stats-card-icon" style="background-color: var(--color-primary);">
            <i class="fa fa-file-text-o text-xl"></i>
          </div>
        </div>
      </div>
      <div class="stats-card">
        <div class="stats-card-header">
          <div>
            <p class="stats-card-title">上次更新</p>
            <p id="lastUpdate" class="stats-card-value">从未</p>
          </div>
          <div class="stats-card-icon" style="background-color: var(--color-accent);">
            <i class="fa fa-clock-o text-xl"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- 主要操作区 -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- 左侧配置区域 -->
      <div class="lg:col-span-2 space-y-6">
        <!-- 配置与页面设置选项卡容器 -->
        <div class="bg-white rounded-xl overflow-hidden card-shadow border border-gray-100">
          <!-- 选项卡导航 -->
          <div class="tabs">
            <button id="tabConfig" class="tab active" role="tab">
              <i class="fa fa-cog mr-2"></i>配置设置
            </button>
            <button id="tabPages" class="tab" role="tab">
              <i class="fa fa-globe mr-2"></i>GitHub页面配置
            </button>
          </div>

          <!-- 选项卡内容区域 -->
          <div class="tab-content">
            <!-- 配置设置选项卡内容 -->
            <div id="tabConfigContent" class="tab-pane p-6" role="tabpanel">
              <div class="mb-6 flex justify-end">
                <button id="saveSettingsBtn" type="button"
                  class="bg-secondary hover:bg-secondary/90 text-white px-4 py-2 rounded-md text-sm btn-hover shadow-button">
                  <i class="fa fa-save mr-1"></i>保存
                </button>
              </div>

              <!-- 基本设置 - 简单模式和高级模式都显示 -->
              <div class="mb-6 fade-in">
                <h3 class="text-md font-medium text-gray-700 mb-4 flex items-center">
                  <i class="fa fa-sliders mr-2 text-primary"></i>基本设置
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">用户脚本路径</label>
                    <input type="text" id="userScriptPath"
                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none input-focus"
                      value="../GitHub_zh-CN.user.js">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">备份目录</label>
                    <input type="text" id="backupDir"
                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none input-focus"
                      value="../backups">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">最小字符串长度</label>
                    <input type="number" id="minStringLength"
                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none input-focus"
                      value="2">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">最大字符串长度</label>
                    <input type="number" id="maxStringLength"
                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none input-focus"
                      value="100">
                  </div>
                </div>
              </div>



              <!-- 字符串匹配设置 -->
              <div class="mb-6 fade-in">
                <h3 class="text-md font-medium text-gray-700 mb-4 flex items-center">
                  <i class="fa fa-search mr-2 text-primary"></i>字符串匹配设置
                </h3>
                <div class="flex items-center space-x-2 mb-4">
                  <input type="checkbox" id="exactMatchOnly" class="w-4 h-4 text-primary focus:ring-primary rounded">
                  <label for="exactMatchOnly" class="text-sm font-medium text-gray-700">只翻译全文匹配的字符串</label>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">忽略的单词（用逗号分隔）</label>
                  <input type="text" id="ignoreWords"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none input-focus"
                    value="GitHub,API,URL,HTTP,HTTPS">
                  <p class="text-xs text-gray-500 mt-1">这些单词出现在任何字符串中时，该字符串将被忽略</p>
                </div>
              </div>


            </div>

            <!-- GitHub页面配置选项卡内容 -->
            <div id="tabPagesContent" class="tab-pane p-6 hidden" role="tabpanel">
              <div class="flex justify-between items-center mb-4">
                <h2 class="text-lg font-semibold text-gray-800">GitHub页面配置</h2>
                <div class="flex space-x-2">
                  <button id="addPageBtn" type="button"
                    class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-md text-sm btn-hover shadow-button">
                    <i class="fa fa-plus mr-1"></i>添加页面
                  </button>
                  <button id="savePagesBtn" type="button"
                    class="bg-secondary hover:bg-secondary/90 text-white px-4 py-2 rounded-md text-sm btn-hover shadow-button">
                    <i class="fa fa-save mr-1"></i>保存
                  </button>
                </div>
              </div>

              <!-- 搜索框 -->
              <div class="mb-4">
                <div class="relative flex items-center">
                  <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                    <i class="fa fa-search text-gray-400"></i>
                  </div>
                  <input type="text" id="pagesSearch" placeholder="搜索URL..."
                    class="w-full px-4 py-2.5 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary/30 focus:border-secondary">
                </div>
              </div>

              <div class="overflow-x-auto shadow-sm rounded-lg">
                <table class="min-w-full divide-y divide-gray-200">
                  <thead class="bg-gray-50">
                    <tr>
                      <th scope="col"
                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                        URL
                      </th>
                      <th scope="col"
                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer sortable-column"
                        data-sort="url" style="width: 45%;">
                        URL
                        <i class="fa fa-sort ml-1 text-gray-400"></i>
                      </th>
                      <th scope="col"
                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer sortable-column"
                        data-sort="selector" style="width: 25%;">
                        选择器
                        <i class="fa fa-sort ml-1 text-gray-400"></i>
                      </th>
                      <th scope="col"
                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer sortable-column"
                        data-sort="module" style="width: 20%;">
                        模块
                        <i class="fa fa-sort ml-1 text-gray-400"></i>
                      </th>
                      <th scope="col"
                        class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"
                        style="width: 10%;">操作</th>
                    </tr>
                  </thead>
                  <tbody id="pagesTableBody" class="bg-white divide-y divide-gray-200">
                    <tr data-index="0" class="hover:bg-gray-50 transition-colors">
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="max-w-md overflow-hidden text-ellipsis whitespace-nowrap relative"
                          title="https://github.com">
                          https://github.com
                        </div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">body</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">global</td>
                      <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <button type="button"
                          class="text-primary hover:text-primary/80 mr-3 edit-page transition-colors" aria-label="编辑">
                          <i class="fa fa-pencil"></i>
                        </button>
                        <button type="button" class="text-danger hover:text-danger/80 delete-page transition-colors"
                          aria-label="删除">
                          <i class="fa fa-trash"></i>
                        </button>
                        <button type="button"
                          class="text-secondary hover:text-secondary/80 ml-3 test-page transition-colors"
                          aria-label="测试" data-url="https://github.com">
                          <i class="fa fa-external-link"></i>
                        </button>
                      </td>
                    </tr>
                    <tr data-index="1" class="hover:bg-gray-50 transition-colors">
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="max-w-md overflow-hidden text-ellipsis whitespace-nowrap relative"
                          title="https://github.com/settings/profile">
                          https://github.com/settings/profile
                        </div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">body</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">settings</td>
                      <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <button type="button"
                          class="text-primary hover:text-primary/80 mr-3 edit-page transition-colors" aria-label="编辑">
                          <i class="fa fa-pencil"></i>
                        </button>
                        <button type="button" class="text-danger hover:text-danger/80 delete-page transition-colors"
                          aria-label="删除">
                          <i class="fa fa-trash"></i>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="px-6 py-4 bg-gray-50 border-t border-gray-200">
                <p class="text-sm text-gray-500">总共 <span id="pagesCount">2</span> 个页面</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 右侧操作和日志区域 -->
      <div id="rightSidebar" class="space-y-6">
        <!-- 操作按钮 -->
        <div class="bg-white rounded-xl p-6 card-shadow border border-gray-100">
          <h2 class="text-lg font-semibold text-dark mb-4 flex items-center">
            <i class="fa fa-cog mr-2 text-primary"></i>操作控制
          </h2>
          <div class="space-y-3">
            <button id="toggleBtn" type="button"
              class="w-full bg-primary hover:bg-primary/90 text-white px-4 py-3 rounded-md font-medium flex items-center justify-center btn-hover shadow-button">
              <i class="fa fa-play mr-2"></i>开始抓取字符串
            </button>
            <button id="addStringBtn" type="button"
              class="w-full bg-secondary hover:bg-secondary/90 text-white px-4 py-3 rounded-md font-medium flex items-center justify-center btn-hover shadow-button">
              <i class="fa fa-plus mr-2"></i>添加字符串到词典
            </button>

            <button id="resetStatusBtn" type="button"
              class="w-full bg-warning hover:bg-warning/90 active:bg-warning/80 text-white px-4 py-3 rounded-md font-medium flex items-center justify-center btn-hover shadow-button transition-all duration-300 group relative overflow-hidden">
              <span
                class="absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"></span>
              <i class="fa fa-refresh mr-2 group-hover:rotate-180 transition-transform duration-500 ease-in-out"></i>
              <span>重置工具状态</span>
            </button>
          </div>
          <div class="mt-6">
            <h3 class="text-sm font-medium text-gray-700 mb-2">运行状态</h3>
            <div class="flex items-center space-x-2">
              <div id="statusIndicator" class="w-3 h-3 rounded-full bg-gray-300 transition-all duration-300"></div>
              <span id="statusText" class="text-sm text-gray-500">就绪</span>
            </div>
          </div>

          <!-- 进度条 -->
          <div class="mt-6">
            <h3 class="text-sm font-medium text-gray-700 mb-2">进度</h3>
            <div class="w-full bg-gray-200 rounded-full h-2.5">
              <div id="progressBar" class="bg-secondary h-2.5 rounded-full w-0 progress-bar"></div>
            </div>
            <div class="flex justify-between mt-1">
              <span id="progressText" class="text-xs text-gray-500">0%</span>
              <span id="progressDetails" class="text-xs text-gray-500">0/0 页面</span>
            </div>
          </div>
        </div>

        <!-- 日志区域 -->
        <div class="bg-white rounded-xl overflow-hidden card-shadow border border-gray-100">
          <div class="bg-dark text-white px-6 py-4 flex justify-between items-center">
            <h2 class="text-lg font-semibold flex items-center gap-2">
              <i class="fa fa-terminal" aria-hidden="true"></i>
              <span>运行日志</span>
            </h2>
            <button id="clearLogBtn" type="button" class="text-white/70 hover:text-white text-sm transition-colors">
              <i class="fa fa-trash mr-1"></i>清空
            </button>
          </div>
          <div class="p-4">
            <div class="log-container-wrapper">
              <div id="logContainer"
                class="h-80 overflow-y-auto bg-gray-50 p-3 rounded-md log-text font-mono space-y-1 shadow-inner">
                <!-- 初始欢迎日志 -->
                <div class="log-entry log-info">
                  <span class="log-time">[00:00:00]</span>
                  <span class="log-message">
                    <i class="fa fa-info-circle mr-2" aria-hidden="true"></i>
                    工具已启动，准备就绪
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- 页脚 -->
  <footer class="bg-dark text-white/70 py-4 px-4">
    <div class="container mx-auto text-center">
      <p>GitHub翻译助手 - 作者: SutChan</p>
    </div>
  </footer>

  <!-- 编辑页面对话框 -->
  <div id="pageModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden modal-backdrop">
    <div class="bg-white rounded-xl p-6 w-full max-w-md mx-4 card-shadow modal-content">
      <div class="modal-header flex justify-between items-center mb-4">
        <h3 class="text-lg font-semibold text-dark" id="modalTitle">添加GitHub页面</h3>
        <button id="closeModalBtn" type="button" class="text-gray-400 hover:text-gray-500 transition-colors"
          aria-label="关闭">
          <i class="fa fa-times text-xl"></i>
        </button>
      </div>
      <div class="modal-body space-y-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">URL</label>
          <input type="text" id="pageUrl"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none input-focus"
            placeholder="https://github.com/...">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">选择器</label>
          <input type="text" id="pageSelector"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none input-focus"
            placeholder="body">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">模块</label>
          <input type="text" id="pageModule"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none input-focus"
            placeholder="global">
        </div>
      </div>
      <div class="modal-footer mt-6 flex justify-end space-x-3">
        <button id="cancelModalBtn" type="button"
          class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors">取消</button>
        <button id="saveModalBtn" type="button"
          class="px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors">保存</button>
      </div>
    </div>
  </div>

  <!-- 帮助对话框 -->
  <div id="helpModal" class="modal-backdrop">
    <div class="modal-content" style="max-width: 800px;">
      <div class="modal-header">
        <h3 class="modal-title">使用帮助</h3>
        <button type="button" class="modal-close" id="closeHelpBtn">
          <i class="fa fa-times text-xl"></i>
        </button>
      </div>
      <div class="modal-body">
        <div class="space-y-4">
          <div class="fade-in">
            <h4 class="text-md font-medium text-gray-800 mb-2">工具介绍</h4>
            <p class="text-sm text-gray-600">此工具用于自动化从GitHub网站抓取字符串并更新翻译词典，帮助维护者持续更新GitHub中文翻译词典。</p>
          </div>
          <div class="fade-in">
            <h4 class="text-md font-medium text-gray-800 mb-2">基本使用</h4>
            <ol class="list-decimal list-inside text-sm text-gray-600 space-y-1">
              <li>配置用户脚本路径和其他参数</li>
              <li>添加或编辑需要抓取的GitHub页面</li>
              <li>点击"开始抓取字符串"按钮运行工具</li>
              <li>查看运行日志和结果统计</li>
            </ol>
          </div>
          <div class="fade-in">
            <h4 class="text-md font-medium text-gray-800 mb-2">注意事项</h4>
            <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
              <li>新添加的字符串会标记为"待翻译:"，需要手动进行翻译</li>
              <li>过度频繁的请求可能会触发GitHub的访问限制</li>
              <li>运行前请确保有足够的文件系统权限</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button"
          class="px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
          id="closeHelpBtn">关闭</button>
      </div>
    </div>
  </div>

  <!-- 添加字符串模态框 -->
  <div id="addStringModal" class="hidden fixed inset-0 z-50 overflow-y-auto modal-backdrop">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">添加字符串到翻译词典</h3>
        <button id="closeAddStringModalBtn" type="button" class="modal-close" aria-label="关闭">
          <i class="fa fa-times text-xl"></i>
        </button>
      </div>
      <div class="modal-body">
        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">原始字符串</label>
            <input type="text" id="originalString"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none input-focus"
              placeholder="请输入要翻译的原始英文字符串">
            <p id="originalStringError" class="mt-1 text-xs text-danger hidden">请输入原始字符串</p>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">翻译模块</label>
            <select id="stringModule"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none input-focus">
              <option value="global">global (全局模块)</option>
              <option value="header">header (顶部导航)</option>
              <option value="footer">footer (页脚)</option>
              <option value="buttons">buttons (按钮文本)</option>
              <option value="labels">labels (标签文本)</option>
              <option value="messages">messages (提示消息)</option>
              <option value="settings">settings (设置页面)</option>
              <option value="search">search (搜索功能)</option>
              <option value="repository">repository (仓库页面)</option>
              <option value="issues">issues (问题页面)</option>
              <option value="pulls">pulls (拉取请求)</option>
              <option value="actions">actions (Actions)</option>
              <option value="marketplace">marketplace (Marketplace)</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">中文翻译</label>
            <textarea id="translatedString"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none input-focus min-h-[100px]"
              placeholder="请输入中文翻译（可选，留空将标记为待翻译）"></textarea>
          </div>
          <div class="flex items-center space-x-2">
            <input type="checkbox" id="forceUpdate" class="w-4 h-4 text-primary focus:ring-primary rounded">
            <label for="forceUpdate" class="text-sm font-medium text-gray-700">强制更新（覆盖现有翻译）</label>
          </div>
        </div>
      </div>
      <div class="modal-footer justify-end">
        <button id="cancelAddStringBtn" type="button"
          class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors">取消</button>
        <button id="saveStringBtn" type="button"
          class="px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors">保存</button>
      </div>
    </div>
  </div>

  <!-- 用户脚本设置模态框 -->
  <div id="userScriptSettingsModal" class="hidden fixed inset-0 z-50 overflow-y-auto modal-backdrop">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">用户脚本设置</h3>
        <button id="closeUserScriptModalBtn" type="button" class="modal-close" aria-label="关闭">
          <i class="fa fa-times text-xl"></i>
        </button>
      </div>
      <div class="modal-body">
        <div id="userScriptSettings" class="space-y-4">
          <!-- 脚本行为设置 -->
          <div>
            <h4 class="text-sm font-medium text-gray-700 mb-3">脚本行为配置</h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">路由变化延迟(ms)</label>
                <input type="number" id="scriptRouteChangeDelay"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none input-focus" value="500">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">节流间隔(ms)</label>
                <input type="number" id="scriptThrottleInterval"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none input-focus" value="100">
              </div>
            </div>
            <div class="mt-4 flex items-center space-x-2">
              <input type="checkbox" id="scriptCheckUpdate" class="w-4 h-4 text-primary focus:ring-primary rounded">
              <label for="scriptCheckUpdate" class="text-sm font-medium text-gray-700">启用更新检测</label>
            </div>
            <div class="mt-4 flex items-center space-x-2">
              <input type="checkbox" id="scriptEnableDeepObserver"
                class="w-4 h-4 text-primary focus:ring-primary rounded">
              <label for="scriptEnableDeepObserver" class="text-sm font-medium text-gray-700">启用深度DOM观察</label>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer justify-end">
        <button id="cancelUserScriptSettingsBtn" type="button"
          class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors">取消</button>
        <button id="saveUserScriptSettingsBtn" type="button"
          class="px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors">
          <i class="fa fa-save mr-1"></i>保存
        </button>
      </div>
    </div>
  </div>

  <!-- 引入JavaScript文件 -->
  <script src="utils/auto_string_updater.js" defer></script>
  <script src="utils/dictionary_processor.js" defer></script>
  <script src="utils/app.js" defer></script>

</body>

</html>

<!-- 简化统计卡片 -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
  <div class="bg-white p-4 rounded-xl card-shadow border border-gray-100">
    <div class="flex items-center justify-between">
      <div>
        <p class="text-sm text-gray-500">已提取字符串</p>
        <h3 class="text-2xl font-bold text-dark mt-1" id="extractedCount">0</h3>
      </div>
      <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-primary">
        <i class="fa fa-file-text-o text-xl"></i>
      </div>
    </div>
  </div>
  <div class="bg-white p-4 rounded-xl card-shadow border border-gray-100">
    <div class="flex items-center justify-between">
      <div>
        <p class="text-sm text-gray-500">新添加字符串</p>
        <h3 class="text-2xl font-bold text-dark mt-1" id="addedCount">0</h3>
      </div>
      <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-green-600">
        <i class="fa fa-plus-circle text-xl"></i>
      </div>
    </div>
  </div>
</div>

<!-- 简化用户脚本设置模态框内容 -->
<div id="userScriptSettings" class="space-y-4">
  <!-- 基本脚本设置 -->
  <div class="space-y-4">
    <div class="flex items-center space-x-2">
      <input type="checkbox" id="scriptCheckUpdate" class="w-4 h-4 text-primary focus:ring-primary rounded">
      <label for="scriptCheckUpdate" class="text-sm font-medium text-gray-700">启用更新检测</label>
    </div>
    <div class="flex items-center space-x-2">
      <input type="checkbox" id="scriptEnableDeepObserver" class="w-4 h-4 text-primary focus:ring-primary rounded">
      <label for="scriptEnableDeepObserver" class="text-sm font-medium text-gray-700">启用深度DOM观察</label>
    </div>
  </div>
</div>

<!-- 简化保存按钮 -->
<div class="mt-6">
  <button id="saveConfigBtn" type="button"
    class="w-full px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors">
    <i class="fa fa-save mr-1.5"></i>保存配置
  </button>
</div>

<!-- 简化搜索框，移除搜索建议 -->
<div class="relative">
  <input type="text" id="pageSearch"
    class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none input-focus"
    placeholder="搜索页面...">
  <i class="fa fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
</div>

<!-- 简化添加页面按钮 -->
<div class="mb-4">
  <button id="addPageBtn" type="button"
    class="w-full px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors flex items-center justify-center">
    <i class="fa fa-plus mr-1.5"></i>添加页面
  </button>
</div>

<!-- 简化查看备份按钮 -->

<!-- 简化日志过滤按钮组 -->

<!-- 简化页脚 -->
<footer class="bg-dark text-white/70 py-4 px-4">
  <div class="container mx-auto text-center">
    <p>GitHub翻译助手 - 作者: SutChan</p>
  </div>
</footer>

<!-- 简化用户脚本设置模态框中的重置按钮 -->
