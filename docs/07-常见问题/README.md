# GitHub i18n 插件常见问题解答 (FAQ) 与故障排除指南

## 文档概述

本文档旨在为 GitHub i18n 插件用户提供常见问题的解答和详细的故障排除步骤。通过本文档，用户可以快速解决使用过程中遇到的常见问题，了解插件的工作原理，并掌握有效的故障排查方法。

**文档版本**: 1.0.0  
**发布日期**: 2024-06-02  
**适用插件版本**: 1.8.88+

## 📋 目录

- [1. 常见问题解答 (FAQ)](#1-常见问题解答-faq)
  - [1.1 安装与配置](#11-安装与配置)
  - [1.2 翻译功能](#12-翻译功能)
  - [1.3 性能与兼容性](#13-性能与兼容性)
  - [1.4 安全与隐私](#14-安全与隐私)
  - [1.5 更新与维护](#15-更新与维护)
- [2. 故障排除指南](#2-故障排除指南)
  - [2.1 基本故障排除流程](#21-基本故障排除流程)
  - [2.2 常见问题排查步骤](#22-常见问题排查步骤)
  - [2.3 高级诊断方法](#23-高级诊断方法)
  - [2.4 问题报告模板](#24-问题报告模板)
- [3. 性能优化指南](#3-性能优化指南)
  - [3.1 一般性能优化](#31-一般性能优化)
  - [3.2 特定场景优化](#32-特定场景优化)
  - [3.3 性能监控](#33-性能监控)
- [4. 附录](#4-附录)

## 1. 常见问题解答 (FAQ)

### 1.1 安装与配置

**Q: GitHub i18n 插件支持哪些浏览器？**

A: GitHub i18n 插件支持所有主流现代浏览器，包括：
- Google Chrome (80+)
- Mozilla Firefox (75+)
- Microsoft Edge (80+)
- Safari (14+)

在旧版浏览器中可能会出现功能限制或兼容性问题。

**Q: 为什么我安装插件后 GitHub 页面没有自动翻译？**

A: 可能的原因包括：
1. 用户脚本管理器未正确启用插件
2. 浏览器缓存问题
3. GitHub 页面结构发生变化
4. 插件与其他扩展冲突

建议尝试以下解决方法：
1. 确认插件已在用户脚本管理器中启用
2. 清除浏览器缓存并刷新页面
3. 检查浏览器控制台是否有错误信息
4. 临时禁用其他可能冲突的扩展

**Q: 如何为多台设备同步插件配置？**

A: 可以通过以下方法同步配置：
1. 使用插件提供的导入/导出功能，手动在设备间传输配置文件
2. 如果您的浏览器支持扩展同步功能，可以在浏览器设置中启用
3. 对于高级用户，可以配置浏览器使用同一账户登录，实现配置自动同步

### 1.2 翻译功能

**Q: 为什么部分 GitHub 内容没有被翻译？**

A: 未翻译的内容可能有以下原因：
1. 内容是在翻译完成后动态加载的
2. 内容包含在翻译词典中不存在的术语
3. 内容被标记为不应翻译的元素（如代码块、特定类名的元素）
4. 页面结构变化导致选择器失效

建议使用 Alt+R 快捷键刷新页面翻译，或通过右键菜单报告未翻译内容。

**Q: 如何切换不同的翻译模式？**

A: GitHub i18n 插件提供三种翻译模式：
1. **完全翻译**: 将所有界面元素翻译为中文
2. **混合模式**: 保留技术术语为英文，其他内容翻译为中文
3. **技术术语优先**: 只翻译界面元素，保留所有技术术语为英文

您可以通过以下方式切换：
- 点击页面顶部工具栏中的翻译模式切换按钮
- 使用键盘快捷键: Alt+C (完全翻译), Alt+M (混合模式), Alt+T (技术术语优先)
- 在插件设置面板中设置默认模式

**Q: 我可以自定义翻译内容吗？**

A: 是的，高级用户可以通过以下方式自定义翻译：
1. 在插件设置面板中，您可以添加个人翻译词典
2. 使用右键菜单将特定元素添加到忽略列表
3. 通过修改本地词典文件自定义翻译（需要高级技术知识）

请注意，自定义翻译不会影响其他用户，仅在您的本地环境生效。

### 1.3 性能与兼容性

**Q: 插件会影响 GitHub 页面的加载速度吗？**

A: 插件会在一定程度上影响页面加载性能，主要体现在：
- 首次翻译时需要处理和转换 DOM 元素
- 监控页面变化会占用一定的浏览器资源
- 缓存机制会占用少量存储空间

不过，我们已经通过多种优化措施最小化性能影响，如节流、防抖、智能缓存等。对于大多数现代设备，性能影响通常是可接受的。

**Q: 插件与其他浏览器扩展冲突怎么办？**

A: 如果您怀疑插件之间存在冲突：
1. 尝试临时禁用其他扩展，逐一测试找出冲突源
2. 检查浏览器控制台的错误信息，寻找冲突线索
3. 在插件设置中调整性能参数，如降低监控频率
4. 确保所有扩展都更新到最新版本

常见的冲突源包括：其他翻译插件、界面修改类插件、广告拦截器等。

**Q: 在低性能设备上使用插件有什么建议？**

A: 对于低性能设备，建议：
1. 启用 "技术术语优先" 模式，减少翻译工作量
2. 增加监控节流延迟，降低 CPU 使用率
3. 禁用非必要页面的自动翻译
4. 定期清理缓存，减少内存占用
5. 考虑使用轻量级浏览器以获得更好性能

### 1.4 安全与隐私

**Q: 插件会收集用户数据吗？**

A: GitHub i18n 插件设计为本地运行，不会向外部服务器发送用户数据。所有翻译词典、用户配置和缓存数据都存储在本地浏览器存储中。

插件可能会：
- 检查插件更新时向 GitHub 发送请求（仅包含版本信息）
- 在用户主动选择的情况下，发送翻译改进反馈

我们严格遵守隐私保护原则，不会收集个人身份信息或浏览历史。

**Q: 翻译过程中会有XSS安全风险吗？**

A: 我们采取了多项措施来防止XSS风险：
1. 使用安全的 DOM 操作方法（优先使用 textContent 而非 innerHTML）
2. 对所有翻译内容进行安全检查
3. 避免翻译敏感元素，如输入框、密码字段等
4. 定期进行安全审查和更新

如果您发现任何安全问题，请立即通过 GitHub Issues 报告。

### 1.5 更新与维护

**Q: 插件如何更新？**

A: 插件提供多种更新方式：
1. **自动更新**: 默认情况下，插件会定期检查更新并提示安装
2. **手动检查**: 点击插件图标，选择 "检查更新" 选项
3. **手动安装**: 访问 GitHub 仓库下载最新版本的用户脚本

我们建议保持插件更新到最新版本，以获取最新的翻译词典和功能改进。

**Q: 如何获取插件的最新版本信息？**

A: 您可以通过以下渠道获取最新版本信息：
1. GitHub 仓库的 Release 页面
2. 插件内的更新通知
3. 项目的 Issues 和 Discussions 部分
4. 插件设置面板中的版本信息

**Q: 旧版本的插件还能继续使用吗？**

A: 虽然旧版本可能仍然可以使用，但我们强烈建议更新到最新版本，因为：
1. 新版本包含翻译词典的更新，翻译质量更好
2. 修复了已知的错误和安全问题
3. 适应了 GitHub 界面的变更
4. 性能和稳定性得到了提升

长期使用过时版本可能会导致翻译不准确、功能失效或安全风险。

## 2. 故障排除指南

### 2.1 基本故障排除流程

当您遇到插件问题时，请按照以下基本流程进行故障排除：

1. **确认基本环境**
   - 检查浏览器版本是否符合要求
   - 确认用户脚本管理器已正确安装和启用
   - 验证插件是否在用户脚本管理器中启用

2. **简单重置操作**
   - 刷新页面
   - 清除浏览器缓存
   - 尝试禁用并重新启用插件

3. **检查错误信息**
   - 打开浏览器开发者工具（按F12）
   - 切换到 "Console" 标签页
   - 查找与 GitHub i18n 相关的错误消息

4. **尝试基本解决方案**
   - 清除插件缓存
   - 重置插件设置到默认值
   - 尝试不同的翻译模式

5. **高级排查**
   - 检查与其他扩展的冲突
   - 尝试在隐私模式或新标签页中打开GitHub
   - 完全重新安装插件

6. **收集信息准备报告**
   - 复制浏览器控制台中的错误信息
   - 记录当前插件和浏览器版本
   - 描述问题的具体表现和复现步骤

### 2.2 常见问题排查步骤

#### 2.2.1 插件不加载或无响应

**症状**: 访问 GitHub 页面时，插件似乎没有运行，界面保持英文。

**排查步骤**:

1. **确认插件已启用**
   - 在浏览器扩展管理页面检查用户脚本管理器是否启用
   - 在用户脚本管理器中确认 GitHub i18n 插件已启用
   - 检查插件的匹配URL是否包含您访问的GitHub页面

2. **检查浏览器控制台**
   - 按F12打开开发者工具，切换到Console标签
   - 查找与插件相关的错误消息
   - 注意是否有脚本加载失败或执行错误

3. **测试基本功能**
   - 尝试在浏览器控制台手动执行插件函数: `GitHub_i18n.getInfo()`
   - 如果返回错误，表示插件未正确加载
   - 检查是否有其他脚本错误导致插件无法初始化

4. **解决方法**
   - 如果是脚本错误，更新到最新版本的插件
   - 如果是浏览器兼容性问题，尝试更新浏览器
   - 临时禁用其他可能冲突的扩展
   - 重新安装插件

#### 2.2.2 翻译不完整或不准确

**症状**: 页面部分内容未翻译，或翻译结果不准确。

**排查步骤**:

1. **检查页面加载状态**
   - 确认页面已完全加载
   - 注意是否有动态加载的内容
   - 尝试刷新页面重新翻译

2. **验证翻译模式**
   - 确认您使用的是适合当前场景的翻译模式
   - 尝试切换到不同的翻译模式
   - 检查特定术语在当前模式下的处理方式

3. **清除缓存**
   - 使用 Alt+L 快捷键清除当前页面缓存
   - 打开插件设置清除所有缓存
   - 刷新页面查看是否改善

4. **检查翻译词典**
   - 确认当前版本的翻译词典已包含相关内容
   - 尝试报告不准确的翻译
   - 等待后续更新或考虑自定义翻译

5. **特殊内容处理**
   - 检查是否是特殊格式的内容（如代码块、表格、动态内容）
   - 对于动态加载的内容，尝试使用 Alt+R 刷新翻译
   - 确认内容不是有意排除的元素类型

#### 2.2.3 性能问题

**症状**: 页面加载缓慢、浏览器卡顿或占用大量资源。

**排查步骤**:

1. **检查系统资源**
   - 确认您的设备性能满足基本要求
   - 关闭其他消耗资源的应用程序
   - 检查是否有其他扩展占用大量资源

2. **调整插件设置**
   - 打开插件设置面板
   - 增加监控节流延迟（默认值可适当提高）
   - 减少缓存大小限制
   - 禁用非必要页面的自动翻译

3. **选择合适的翻译模式**
   - 尝试切换到 "技术术语优先" 模式
   - 考虑仅翻译可见区域的内容
   - 减少需要翻译的页面范围

4. **清理浏览器**
   - 清除浏览器缓存和Cookie
   - 关闭不必要的标签页
   - 考虑使用隐私模式测试性能

5. **高级优化**
   - 禁用不必要的浏览器扩展
   - 更新浏览器到最新版本
   - 检查是否有恶意软件或广告软件影响性能

#### 2.2.4 更新失败

**症状**: 无法更新插件到最新版本。

**排查步骤**:

1. **检查网络连接**
   - 确认您的网络连接正常
   - 检查是否有防火墙或代理阻止访问GitHub
   - 尝试访问GitHub网站验证连接

2. **手动更新**
   - 访问GitHub仓库下载最新版本
   - 手动安装用户脚本
   - 确认用户脚本管理器支持更新操作

3. **检查版本兼容性**
   - 确认最新版本与您的浏览器兼容
   - 检查是否需要更新用户脚本管理器
   - 考虑暂时回退到稳定版本

4. **权限问题**
   - 确认用户脚本管理器有足够权限安装更新
   - 检查浏览器扩展安装策略
   - 尝试以管理员权限运行浏览器（Windows系统）

### 2.3 高级诊断方法

对于复杂问题，您可以使用以下高级诊断方法：

#### 2.3.1 启用调试模式

1. 打开浏览器控制台（按F12）
2. 输入以下命令启用调试模式：
   ```javascript
   GitHub_i18n.setDebugMode(true);
   ```
3. 刷新页面，观察控制台输出的详细日志
4. 查找潜在问题线索

完成诊断后，建议关闭调试模式以避免性能影响：
```javascript
GitHub_i18n.setDebugMode(false);
```

#### 2.3.2 检查插件状态

使用以下命令检查插件的内部状态：

```javascript
// 检查插件基本信息
GitHub_i18n.getInfo();

// 检查缓存状态
GitHub_i18n.getCacheInfo();

// 检查当前页面模式
GitHub_i18n.getCurrentPageMode();

// 检查翻译词典状态
GitHub_i18n.getDictionaryStatus();
```

#### 2.3.3 测试特定功能

针对特定功能进行测试，以确定问题的具体位置：

```javascript
// 测试单个翻译功能
const result = GitHub_i18n.translationCore.getTranslatedText("Issues");
console.log("翻译结果:", result);

// 测试DOM翻译
const testElement = document.createElement("div");
testElement.textContent = "Pull Requests";
document.body.appendChild(testElement);
GitHub_i18n.translationCore.translateElement(testElement);

// 测试监控功能
GitHub_i18n.pageMonitor.testMonitoring();
```

#### 2.3.4 隔离测试环境

创建一个干净的测试环境以排除干扰因素：

1. 打开浏览器的隐私模式/无痕窗口
2. 仅安装用户脚本管理器和GitHub i18n插件
3. 访问GitHub页面测试功能
4. 如果问题不再出现，则可能是其他扩展或设置导致的冲突

### 2.4 问题报告模板

如果您需要报告问题，请使用以下模板提供详细信息，这将帮助我们更快地解决您的问题：

```
## 问题描述
[简要描述您遇到的问题]

## 重现步骤
1. [步骤1]
2. [步骤2]
3. [步骤3]

## 预期行为
[描述您期望看到的正常行为]

## 实际行为
[描述您实际观察到的行为]

## 环境信息
- 浏览器: [浏览器名称及版本]
- 用户脚本管理器: [名称及版本]
- 插件版本: [GitHub i18n 版本号]
- 操作系统: [Windows/macOS/Linux 及版本]

## 错误日志
[复制浏览器控制台中的错误信息]

## 截图（可选）
[如有必要，提供问题的截图]

## 附加信息
[任何您认为可能有帮助的额外信息]
```

请在 GitHub Issues 页面提交问题报告：[https://github.com/sutchan/GitHub_i18n/issues](https://github.com/sutchan/GitHub_i18n/issues)

## 3. 性能优化指南

### 3.1 一般性能优化

以下优化措施适用于大多数使用场景，可以提升插件的整体性能：

#### 3.1.1 调整监控设置

- **增加节流延迟**: 默认值为200ms，可以根据需要增加到300-500ms
- **降低监控深度**: 减少监控DOM的层级深度
- **选择性监控**: 只监控频繁更新的页面区域

在插件设置中，导航到"性能设置"部分可以调整这些参数。

#### 3.1.2 优化缓存策略

- **适当限制缓存大小**: 默认缓存1000条翻译结果，可以根据需要调整
- **设置合理的缓存过期时间**: 常用页面可以使用较长过期时间
- **启用持久化缓存**: 对于频繁访问的页面，启用持久化缓存可以提高性能

#### 3.1.3 选择合适的翻译模式

根据不同场景选择最适合的翻译模式：
- **浏览代码时**: 使用"技术术语优先"模式
- **阅读文档时**: 使用"混合模式"
- **一般浏览时**: 使用"完全翻译"模式

#### 3.1.4 减少不必要的翻译

- **忽略静态内容**: 对于很少变化的页面区域，可以添加到忽略列表
- **避免重复翻译**: 确保插件不会对同一内容重复翻译
- **延迟翻译**: 对于非关键内容，可以推迟翻译直到需要时

### 3.2 特定场景优化

针对不同使用场景的特定优化建议：

#### 3.2.1 大型仓库代码浏览

当浏览包含大量代码文件的仓库时：
- 切换到"技术术语优先"模式，减少翻译工作量
- 启用"按需翻译"功能，只翻译当前可见区域
- 增加监控节流延迟到500ms以上
- 对于代码密集的页面，可以临时禁用自动翻译，使用手动翻译

#### 3.2.2 大量Issues/Pull Requests浏览

当查看包含大量讨论的Issues或Pull Requests时：
- 启用"分批翻译"功能
- 设置更大的缓存大小以存储更多翻译结果
- 考虑使用键盘快捷键按需刷新翻译，而不是自动翻译所有内容

#### 3.2.3 低性能设备优化

在性能受限的设备上使用时：
- 启用"极简模式"，仅翻译核心界面元素
- 完全禁用非必要页面的自动翻译
- 将监控节流延迟增加到800ms-1s
- 定期手动清理缓存，减少内存占用
- 考虑使用轻量级浏览器

### 3.3 性能监控

如何监控和诊断插件性能问题：

#### 3.3.1 使用浏览器开发工具

1. 打开浏览器开发者工具（按F12）
2. 切换到"Performance"或"性能"选项卡
3. 点击"录制"按钮，然后执行操作
4. 停止录制后，分析CPU和内存使用情况
5. 查找插件相关的性能瓶颈

#### 3.3.2 监控插件内部状态

使用以下命令检查插件内部性能指标：

```javascript
// 查看性能统计信息
GitHub_i18n.getPerformanceStats();

// 查看翻译操作统计
GitHub_i18n.translationCore.getTranslationStats();

// 查看监控操作统计
GitHub_i18n.pageMonitor.getMonitoringStats();
```

#### 3.3.3 识别性能瓶颈

常见的性能瓶颈及其解决方案：

1. **过度频繁的DOM更新**
   - 症状: 页面卡顿，CPU使用率高
   - 解决方案: 增加节流延迟，减少监控频率

2. **内存占用过高**
   - 症状: 浏览器变慢，可能崩溃
   - 解决方案: 减小缓存大小，增加缓存过期检查频率

3. **大型页面翻译延迟**
   - 症状: 页面加载后长时间显示英文
   - 解决方案: 启用分批翻译，优先翻译可见区域

4. **重复翻译同一内容**
   - 症状: 翻译操作计数异常高
   - 解决方案: 检查缓存机制，确保翻译结果被正确缓存

## 4. 附录

### 4.1 术语表

| 术语 | 解释 |
|------|------|
| 用户脚本 | 在浏览器中运行的JavaScript程序，通常通过用户脚本管理器安装 |
| DOM | 文档对象模型，网页的结构化表示
| 节流 (Throttle) | 限制函数在特定时间内最多执行一次的技术 |
| 防抖 (Debounce) | 延迟函数执行，直到一段时间内不再触发的技术 |
| 翻译词典 | 包含原文和对应翻译的映射数据 |
| 翻译模式 | 插件提供的不同翻译策略，如完全翻译、混合模式等 |
| 监控 | 跟踪DOM变化并触发翻译的机制 |
| CSP | 内容安全策略，浏览器的安全机制
| XSS | 跨站脚本攻击，一种网络安全漏洞

### 4.2 有用的资源

- GitHub i18n 项目仓库: [https://github.com/sutchan/GitHub_i18n](https://github.com/sutchan/GitHub_i18n)
- Tampermonkey 文档: [https://www.tampermonkey.net/documentation.php](https://www.tampermonkey.net/documentation.php)
- GitHub API 文档: [https://docs.github.com/zh/rest](https://docs.github.com/zh/rest)
- 常见浏览器开发者工具使用指南
  - Chrome: [https://developer.chrome.com/docs/devtools/](https://developer.chrome.com/docs/devtools/)
  - Firefox: [https://developer.mozilla.org/en-US/docs/Tools](https://developer.mozilla.org/en-US/docs/Tools)
  - Edge: [https://docs.microsoft.com/zh-cn/microsoft-edge/devtools-guide-chromium/](https://docs.microsoft.com/zh-cn/microsoft-edge/devtools-guide-chromium/)

---

**文档维护信息**

- 最后更新: 2024-06-02  
- 维护者: Sut  
- 版本: 1.0.0  

如有文档更新需求或发现文档错误，请联系文档维护者。